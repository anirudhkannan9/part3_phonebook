{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/SuccessNotification.js","components/ErrorNotification.js","services/persons.js","App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","Person","person","deletePerson","name","number","onClick","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","SuccessNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showAll","setShowAll","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","map","trim","window","confirm","oldPersonObject","newPersonObject","setTimeout","catch","error","concat","console","log","i","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd2e0293.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({search, handleSearchChange}) => {\n\n    return (\n      <div>\n        filter shown with <input \n                            value={search}\n                            onChange={handleSearchChange}\n                          />\n      </div>\n    )\n  }\n\nexport default Filter","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n\n    return (\n        <div>\n            {person.name} {person.number} <button onClick={deletePerson}>delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\n    return (\n      <>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input\n                    value={newName}\n                    onChange={handleNameChange}\n                  />\n          </div>\n          <div>\n            number: <input\n                      value={newNumber}\n                      onChange={handleNumberChange}\n                    />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </>\n    )\n  }\n\n\nexport default PersonForm","import React from 'react'\n\nconst SuccessNotification = ({ message }) => {\n\n    const successNotificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={successNotificationStyle}>\n            {message}\n        </div>\n\n    )\n}\n\nexport default SuccessNotification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n\n    const errorNotificationStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={errorNotificationStyle}>\n            {message}\n        </div>\n\n    )\n}\n\nexport default ErrorNotification","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\n\n\nexport default { getAll, create, update, deletePerson }","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n    \n  }, [])\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n    setShowAll(false)\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  \n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(person => person.name.toLowerCase().trim()).includes(newName.toLowerCase().trim())) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const thisPerson = persons.filter(person => person.name.toLowerCase().trim() === newName.toLowerCase().trim())\n        const oldPersonObject = thisPerson[0]\n        const newPersonObject = { ...oldPersonObject, number: newNumber }\n        personService\n          .update(newPersonObject.id, newPersonObject)\n          .then(response => {\n            setNewName('')\n            setNewNumber('')\n            setSuccessMessage(`Updated ${newPersonObject.name}'s number`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n            setPersons(persons.map(person => person.id === newPersonObject.id ? newPersonObject : person))\n            \n          })\n          .catch(error => {\n            setNewName('')\n            setNewNumber('')\n            personService\n              .getAll()\n              .then(response => {\n                setPersons(response)\n              })\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }      \n    } else {\n\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(personObject))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(`Added ${personObject.name}`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n          \n        })\n        .catch(error => {\n          console.log(error.response.data.error)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = (person) => {\n    const id = person.id\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(response => \n          setPersons(persons.filter(person => person.id !== id))\n        )\n    }\n  }\n\n  const personsToShow = showAll\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter search={search} handleSearchChange={handleSearchChange}/>\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      {personsToShow.map((person, i) => \n        <Person\n          key={i}\n          person={person}\n          deletePerson={() => deletePerson(person)}\n        />\n      )}\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}